
// INICIO DE TARJETAS
const products = [
  {
    // ALIMENTOS
    id: 1,
    name: "Miel de abeja San Jerónimo",
    description: "Miel pura y natural de las montañas de Jerónimo",
    image: "imagenes/MIEL/miel 1.jpg",
    category: "alimentos",
    additionalImages: [
      "imagenes/MIEL/miel 2.jpg",
      "imagenes/MIEL/miel 3.png",
      "imagenes/MIEL/miel 4.jpg",
    ],
    additionalInfo: {
      slogan: "Endulza tu vida con el sabor de la naturaleza",
      productType: "Miel de abeja pura",
      city: "Ibagué (Tolima)",
      email: "alejandrapalacio605@gmail.com",
      phone: "3144732920 – 3107663139",
      address: "Calle 11A #5-50 b/San Diego",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/karem.palacio.3?mibextid=ZbWKwL",
      instagram: "https://www.instagram.com",
      whatsapp: "https://wa.me/3144732920",
    },
  },
  // AQUI UN NUEVOS PRODUCTOS DE ALIMENTOS

  {
    id: 1,
    name: "Miel de abeja San Jerónimo",
    description: "Miel pura y natural de las montañas de Jerónimo",
    image: "imagenes/MIEL/miel 1.jpg",
    category: "alimentos",
    additionalImages: [
      "imagenes/MIEL/miel 2.jpg",
      "imagenes/MIEL/miel 3.png",
      "imagenes/MIEL/miel 4.jpg",
    ],
    additionalInfo: {
      slogan: "Endulza tu vida con el sabor de la naturaleza",
      productType: "Miel de abeja pura",
      city: "Ibagué (Tolima)",
      email: "alejandrapalacio605@gmail.com",
      phone: "3144732920 – 3107663139",
      address: "Calle 11A #5-50 b/San Diego",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/karem.palacio.3?mibextid=ZbWKwL",
      instagram: "https://www.instagram.com",
      whatsapp: "https://wa.me/3144732920",
    },
  },
  {
    id: 1,
    name: "Miel de abeja San Jerónimo",
    description: "Miel pura y natural de las montañas de Jerónimo",
    image: "imagenes/MIEL/miel 1.jpg",
    category: "alimentos",
    additionalImages: [
      "imagenes/MIEL/miel 2.jpg",
      "imagenes/MIEL/miel 3.png",
      "imagenes/MIEL/miel 4.jpg",
    ],
    additionalInfo: {
      slogan: "Endulza tu vida con el sabor de la naturaleza",
      productType: "Miel de abeja pura",
      city: "Ibagué (Tolima)",
      email: "alejandrapalacio605@gmail.com",
      phone: "3144732920 – 3107663139",
      address: "Calle 11A #5-50 b/San Diego",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/karem.palacio.3?mibextid=ZbWKwL",
      instagram: "https://www.instagram.com",
      whatsapp: "https://wa.me/3144732920",
    },
  },
  {
    id: 1,
    name: "Miel de abeja San Jerónimo",
    description: "Miel pura y natural de las montañas de Jerónimo",
    image: "imagenes/MIEL/miel 1.jpg",
    category: "alimentos",
    additionalImages: [
      "imagenes/MIEL/miel 2.jpg",
      "imagenes/MIEL/miel 3.png",
      "imagenes/MIEL/miel 4.jpg",
    ],
    additionalInfo: {
      slogan: "Endulza tu vida con el sabor de la naturaleza",
      productType: "Miel de abeja pura",
      city: "Ibagué (Tolima)",
      email: "alejandrapalacio605@gmail.com",
      phone: "3144732920 – 3107663139",
      address: "Calle 11A #5-50 b/San Diego",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/karem.palacio.3?mibextid=ZbWKwL",
      instagram: "https://www.instagram.com",
      whatsapp: "https://wa.me/3144732920",
    },
  },

  // ASESORIAS
  {
    id: 2,
    name: "Club de Tareas el Arte de Aprender",
    description: "Ropa, desayunos sorpresas y detalles personalizados, plataformas streaming, acompañamiento y realización de los trabajos escolares.",
    image: "imagenes/emprendimientos/club.jpg",
    category: "asesorias",
    additionalImages: [
      "imagenes/emprendimientos/tareas1.jpg",
      "imagenes/emprendimientos/tareas2.jpg",
      "imagenes/emprendimientos/tareas3.jpeg",
      "imagenes/emprendimientos/tareas4.jpg",
      "imagenes/emprendimientos/tareas5.jpg",

    ],
    additionalInfo: {
      slogan: "",
      productType: "Ropa, desayunos sorpresas y detalles personalizados, plataformas streaming, acompañamiento y realización de los trabajos escolares.",
      city: "Florencia (Caquetá)",
      email: "derlytatianavidal@gmail.com",
      phone: "3229460239",
      address: "",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/profile.php?id=100063587918233&mibextid=ZbWKwL",
      instagram: "https://www.instagram.com",
      whatsapp: "https://api.whatsapp.com/send?phone=+573229460239&text=Bienvenido%20a%20Club%20de%20Tareas%20en%20que%20puedo%20ayudarte?",
    },
  },
  // AQUI UN NUEVOS PRODUCTOS DE ASESORIAS

  // BELLEZA
  {
    id: 3,
    name: "Amoretos Beauty",
    description: "Belleza con amor y cuidado.",
    image: "imagenes/emprendimientos/amoretos.jpg",
    category: "belleza",
    additionalImages: [
      "imagenes/emprendimientos/amoretos1.jpg",
      "imagenes/emprendimientos/amoretos2.jpg",
      "imagenes/emprendimientos/amoretos3.jpg",
      "imagenes/emprendimientos/amoretos4.jpg",
      "imagenes/emprendimientos/amoretos5.jpg",
      "imagenes/emprendimientos/amoretos6.jpg",
      "imagenes/emprendimientos/amoretos7.jpg",
      "imagenes/emprendimientos/amoretos8.jpg",
      "imagenes/emprendimientos/amoretos9.jpg",
    ],
    additionalInfo: {
      slogan: "Belleza con amor.",
      productType: "Capilares",
      city: "Ibagué (Tolima)",
      email: "alejandrapalacio605@gmail.com",
      phone: "3144282057",
      address: " ",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/amoretos.beauty",
      instagram: "https://www.instagram.com/amoretos.beauty/",
      whatsapp: "https://api.whatsapp.com/send?phone=+&text=Bienvenido%20a%20Amoretos%20Beauty%20en%20que%20puedo%20ayudarte?",
    },
  },
  // AQUI UN NUEVOS PRODUCTOS DE BELLEZA

  // MODA
  {
    id: 4,
    name: "Oro & Plata",
    description: "Fabricación y reparación de joyas en diferentes metales.",
    image: "imagenes/emprendimientos/oro.jpg",
    category: "moda",
    additionalImages: [
      "imagenes/emprendimientos/oro1.jpeg",
      "imagenes/emprendimientos/oro2.jpeg",
      "imagenes/emprendimientos/oro3.jpeg",
      "imagenes/emprendimientos/oro4.jpeg",
      "imagenes/emprendimientos/oro5.jpeg",
    ],
    additionalInfo: {
      slogan: "Venta de joyas en Oro & Plata, fabricación y reparación de joyas.",
      productType: "Joyeria",
      city: "El Bordo (Cauca)",
      email: "malejaobanndo123@hotmail.com",
      phone: "3145532583",
      address: "Calle 11A #5-50 b/San Diego",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/oroyplataAL?mibextid=ZbWKwL",
      instagram: "https://www.instagram.com/oroplata35/?igshid=NTc4MTIwNjQ2YQ%3D%3D",
      whatsapp: "https://api.whatsapp.com/send?phone=+573145532583&text=Bienvenido%20a%20Oro%20&%20Plata%20en%20que%20puedo%20servirte?",
    },
  },
  {
    id: 5,
    name: "Aitana",
    description: "Lindas Camisetas Sublimadas En Diferentes Tallas",
    image: "imagenes/emprendimientos/aitana.jpg",
    category: "moda",
    additionalImages: [
      "imagenes/emprendimientos/aitana1.jpeg",
      "imagenes/emprendimientos/aitana2.jpeg",
      "imagenes/emprendimientos/aitana3.jpeg",
      "imagenes/emprendimientos/aitana4.jpeg",
      "imagenes/emprendimientos/aitana5.jpeg",
      "imagenes/emprendimientos/aitana6.jpeg",
      "imagenes/emprendimientos/aitana7.jpeg",
      "imagenes/emprendimientos/aitana8.jpeg",
      "imagenes/emprendimientos/aitana9.jpeg",
      "imagenes/emprendimientos/aitana10.jpeg",
      "imagenes/emprendimientos/aitana11.jpeg",
      "imagenes/emprendimientos/aitana12.jpeg",
      "imagenes/emprendimientos/aitana13.jpeg",
      "imagenes/emprendimientos/aitana14.jpeg",
      "imagenes/emprendimientos/aitana15.jpeg",
      "imagenes/emprendimientos/aitana16.jpeg",
      "imagenes/emprendimientos/aitana17.jpeg",
      "imagenes/emprendimientos/aitana18.jpeg",
      "imagenes/emprendimientos/aitana19.jpeg",
      "imagenes/emprendimientos/aitana20.jpeg",
      "imagenes/emprendimientos/aitana21.jpeg",
    ],
    additionalInfo: {
      slogan: "Lindas Camisetas Sublimadas En Tallas S, M, L, XL, XXL",
      productType: "Camisetas con técnica de sublimación.",
      city: "Popayán (Cauca)",
      email: "anna1787@hotmail.com",
      phone: "3136401698",
      address: "Colina Campestre casa 6 mz B",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/aitanacamisetas",
      instagram: "https://www.instagram.com/aitana01__/?igshid=NjIwNzIyMDk2Mg%3D%3D",
      whatsapp: "https://api.whatsapp.com/send?phone=+573136401698&text=Quiero%20informaci%C3%B3n%20de%20las%20camisetas",
    },
  },
  {
    id: 6,
    name: "Tienda Virtual ISA-BELLA",
    description: "Todo tipo de ropa, calzado y accesorios",
    image: "imagenes/emprendimientos/Isa-bella.jpeg",
    category: "moda",
    additionalImages: [
      "imagenes/emprendimientos/isabella1.jpg",
      "imagenes/emprendimientos/isabella2.jpg",
      "imagenes/emprendimientos/isabella3.jpg",
      "imagenes/emprendimientos/isabella4.jpg",
      "imagenes/emprendimientos/isabella5.jpg",
      "imagenes/emprendimientos/isabella6.jpg",
      "imagenes/emprendimientos/isabella7.jpg",
      "imagenes/emprendimientos/isabella8.jpg",
      "imagenes/emprendimientos/isabella9.jpg",
      "imagenes/emprendimientos/isabella10.jpg",
      "imagenes/emprendimientos/isabella11.jpg",
      "imagenes/emprendimientos/isabella12.jpg",
      "imagenes/emprendimientos/isabella13.jpg",
      "imagenes/emprendimientos/isabella14.jpg",
      "imagenes/emprendimientos/isabella15.jpg",
    ],
    additionalInfo: {
      slogan: "Ropa, calzado y accesorios",
      productType: "Ropa, Calzado, Tecnología y Accesorios.",
      city: "Ipiales – Pasto (Nariño)",
      email: "tatianac981003@hotmail.com",
      phone: "3173479850",
      address: "Ipiales centro",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/tatiana.castro.3152130?mibextid=ZbWKwL",
      instagram: "https://www.instagram.com/tatiana.castro12/?utm_source=qr&igshid=NGExMmI2YTkyZg%3D%3D",
      whatsapp: "https://api.whatsapp.com/send?phone=+573173479850&text=Bienvenido%20a%20Tienda%20Virtual%20ISA-BELLA%20en%20que%20puedo%20ayudarte?",
    },
  },
  {
    id: 7,
    name: "Detail Shop Palmira",
    description: "Estimada población adquiera por este medio todo tipo de accesorios",
    image: "imagenes/emprendimientos/palmira.jpg",
    category: "moda",
    additionalImages: [
      "imagenes/emprendimientos/palmira1.jpeg",
      "imagenes/emprendimientos/palmira2.jpeg",
      "imagenes/emprendimientos/palmira3.jpeg",
      "imagenes/emprendimientos/palmira4.jpeg",
      "imagenes/emprendimientos/palmira5.jpeg",
      "imagenes/emprendimientos/palmira6.jpeg",
      "imagenes/emprendimientos/palmira7.jpeg",
      "imagenes/emprendimientos/palmira8.jpeg",
      "imagenes/emprendimientos/palmira9.jpeg",
      "imagenes/emprendimientos/palmira10.jpeg",
      "imagenes/emprendimientos/palmira11.jpeg",
      "imagenes/emprendimientos/palmira12.jpeg",
      "imagenes/emprendimientos/palmira13.jpeg",
    ],
    additionalInfo: {
      slogan: "Estimada población adquiera por este medio pulseras, llaveros, lapiceros, accesorios para el celular, collares para su ,mascota, tobilleras, todo personalizado y tejido del color deseado. ",
      productType: "Bisutería elaborada a mano con tejidos.",
      city: "Palmira (Valle)",
      email: "detailshopalmira@gmail.com",
      phone: "3185315023",
      address: "Carrera 31 a # 68 a 78",
    },
    socialMedia: {
      facebook: "https://www.facebook.com/profile.php?id=100090590534959&mibextid=LQQJ4d",
      instagram: "https://www.instagram.com/detail_shop_palmira/?igshid=YmMyMTA2M2Y%3D&fbclid=PAAaYQi9DLs4aIQQxL655XTMH6GQmZpJgVjr_X9XSLRSDhWlXinLO8Xw5miXw",
      whatsapp: "https://api.whatsapp.com/send?phone=+573185315023&text=Bienvenido%20a%20Detail%20Shop%20Palmira%20en%20que%20puedo%20ayudarte?",
    },
  },
  // AQUI UN NUEVOS PRODUCTOS DE MODA

  //Plantilla
  {
    id: 0,
    name: "",
    description: "",
    image: "",
    category: "",
    additionalImages: [
      "",
      "",
      "",
    ],
    additionalInfo: {
      slogan: "",
      productType: "",
      city: "",
      email: "",
      phone: "",
      address: "",
    },
    socialMedia: {
      facebook: "",
      instagram: "",
      whatsapp: "",
    },
  },

  //CALZADO


  //HIGIENE


  //MANTENIMIENTO


  //MEDICINA


  //TECNOLOGIAS

]//CIERRE DE LAS TARJETAS

// FULL SCREEN DE LAS IMAGENES
function openFullscreen(imgElement) {
  if (imgElement.requestFullscreen) {
    imgElement.requestFullscreen();
  } else if (imgElement.mozRequestFullScreen) { // Firefox
    imgElement.mozRequestFullScreen();
  } else if (imgElement.webkitRequestFullscreen) { // Chrome, Safari and Opera
    imgElement.webkitRequestFullscreen();
  } else if (imgElement.msRequestFullscreen) { // IE/Edge
    imgElement.msRequestFullscreen();
  }
}


// CREA LA LOGICA DE LAS TARJETAS Y EL CARRUSEL

function renderProducts(category) {
  const container = document.querySelector(`#${category}-products`);
  const filteredProducts = products.filter(
    (product) => product.category === category
  );
  let html = "";
  filteredProducts.forEach((product) => {
    const carouselIndicators = product.additionalImages
      .map((_, index) => `
        <button type="button" data-bs-target="#carousel-${product.id}"
        data-bs-slide-to="${Math.floor(index / 2)}" ${index < 2 ? 'class="active" aria-current="true"' : ""}
        aria-label="Slide ${Math.floor(index / 2) + 1}"></button>
    `)
      .filter((_, index) => index % 2 === 0)  // Filtra para solo incluir un indicador por cada par de imágenes
      .join("");

    const carouselItems = product.additionalImages
      .map((image, index) => {
        const nextImage = product.additionalImages[(index + 1) % product.additionalImages.length];
        const isEven = index % 2 === 0;
        return isEven ? `
            <div class="carousel-item ${index === 0 ? "active" : ""}">
                <div class="d-flex">
                    <img src="${image}" class="flex-img" alt="..." onclick="openFullscreen(this)">
                    <img src="${nextImage}" class="flex-img" alt="..." onclick="openFullscreen(this)">
                </div>
            </div>
        ` : '';
      })
      .filter((_, index) => index % 2 === 0)
      .join("");

    html += `
      <div class="card" style="width: 18rem; margin: 15px;"> 
         <a data-bs-toggle="modal" data-bs-target="#modal-${product.id}"> </button>
         <href="#modal-${product.id}">
           <img src="${product.image}" class="card-img-top" alt="${product.name}">
         </a>
          <div class="card-body">
              <h5 class="card-title">${product.name}</h5>
              <p class="card-text">${product.description}</p>
              <button class="botonesemprendimiento btn-info" data-bs-toggle="modal" data-bs-target="#modal-${product.id}">Ver más </button>
              <br>
              <div class="social-media-buttons">
                  <br>
                  <a href="${product.socialMedia.facebook}" class="btn btn-primary" target="_blank"><i class="fab fa-facebook-f"></i></a>
                  <a href="${product.socialMedia.instagram}" class="btn btn-danger" target="_blank"><i class="fab fa-instagram"></i></a>
                  <a href="${product.socialMedia.whatsapp}" class="btn btn-success" target="_blank"><i class="fab fa-whatsapp"></i></a>
              </div>
          </div>
      </div>
        <!-- Modal -->
        <div class="modal fade" id="modal-${product.id}" tabindex="-1" aria-labelledby="modalLabel-${product.id}" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header ${product.category}">
                        <h5 class="modal-title" id="modalLabel - ${product.category}">${product.name}</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <img src="${product.image}" id="main-image-${product.id}" class="img-fluid" alt="${product.name}">
                            </div>
                            <div class="col-md-6">
                                <p><strong>${product.additionalInfo.slogan}</strong></p>
                                <p><strong>Tipo de Producto:</strong> ${product.additionalInfo.productType}</p>
                                <p><strong>Ciudad:</strong> ${product.additionalInfo.city}</p>
                                <p><strong>Correo Electrónico:</strong> ${product.additionalInfo.email}</p>
                                <p><strong>Teléfono:</strong> ${product.additionalInfo.phone}</p>
                                <p><strong>Dirección:</strong> ${product.additionalInfo.address}</p>
                                <div class="social-media-buttons">
                                <a href="${product.socialMedia.facebook}" class="btn btn-primary" target="_blank"><i class="fab fa-facebook-f"></i></a>
                                <a href="${product.socialMedia.instagram}" class="btn btn-danger" target="_blank"><i class="fab fa-instagram"></i></a>
                                <a href="${product.socialMedia.whatsapp}" class="btn btn-success" target="_blank"><i class="fab fa-whatsapp"></i></a>
                            </div>
                            </div>
                        </div>
                        <div id="carousel-${product.id}" class="carousel slide mt-3" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                                ${carouselIndicators}
                            </div>
                            <div class="carousel-inner">
                                ${carouselItems}
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#carousel-${product.id}" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Anterior</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carousel-${product.id}" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Siguiente</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        `;
  });

  container.innerHTML = html;
}
//FUNCION PARA FILTRAR POR ID
function showMoreInfo(productId) {
  const infoDiv = document.getElementById(`more-info-${productId}`);
  infoDiv.classList.toggle("d-none");
}

//CREACION DE LOS MODAL UNICOS DE CADA CATEGORIA
// ALIMENTOS
document.addEventListener("DOMContentLoaded", function () {
  renderProducts("alimentos");
  document.querySelectorAll(".carousel-item img").forEach((img) => {
    img.addEventListener("click", (e) => {
      openFullscreen(e.target);
    });
  });
});

// ASESORIAS

document.addEventListener("DOMContentLoaded", function () {
  renderProducts("asesorias");
  document.querySelectorAll(".carousel-item img").forEach((img) => {
    img.addEventListener("click", (e) => {
      openFullscreen(e.target);
    });
  });
});

// BELLEZA

document.addEventListener("DOMContentLoaded", function () {
  renderProducts("belleza");
  document.querySelectorAll(".carousel-item img").forEach((img) => {
    img.addEventListener("click", (e) => {
      openFullscreen(e.target);
    });
  });
});

// MODA

document.addEventListener("DOMContentLoaded", function () {
  renderProducts("moda");
  document.querySelectorAll(".carousel-item img").forEach((img) => {
    img.addEventListener("click", (e) => {
      openFullscreen(e.target);
    });
  });
});

// TECNOLOGIAS

document.addEventListener("DOMContentLoaded", function () {
  renderProducts("tecnologias");
  document.querySelectorAll(".carousel-item img").forEach((img) => {
    img.addEventListener("click", (e) => {
      openFullscreen(e.target);
    });
  });
});

// CALZADO

document.addEventListener("DOMContentLoaded", function () {
  renderProducts("calzado");
  document.querySelectorAll(".carousel-item img").forEach((img) => {
    img.addEventListener("click", (e) => {
      openFullscreen(e.target);
    });
  });
});

// HIGIENE

document.addEventListener("DOMContentLoaded", function () {
  renderProducts("higiene");
  document.querySelectorAll(".carousel-item img").forEach((img) => {
    img.addEventListener("click", (e) => {
      openFullscreen(e.target);
    });
  });
});

// MANTENIMIENTO

document.addEventListener("DOMContentLoaded", function () {
  renderProducts("mantenimiento");
  document.querySelectorAll(".carousel-item img").forEach((img) => {
    img.addEventListener("click", (e) => {
      openFullscreen(e.target);
    });
  });
});

// MEDICINA

document.addEventListener("DOMContentLoaded", function () {
  renderProducts("medicina");
  document.querySelectorAll(".carousel-item img").forEach((img) => {
    img.addEventListener("click", (e) => {
      openFullscreen(e.target);
    });
  });
});


